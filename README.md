# Industrial Component Monitoring (Server source code)

## Introduction

A complete explanation of what [ICM](https://skytoptechnologies.com/consultancy/industrial-condition-monitoring "ICM") really is. This is a technical overview of the technology stack in use.

## Technologies

This project relies on the following technologies to function:

* [Plotly](https://plot.ly/javascript/ "Plotly")
* [Bootstrap](https://getbootstrap.com/ "Bootstrap") 
* [Flask](flask.pocoo.org/ "Flask")
* [Heroku](https://www.heroku.com/ "Heroku")
* [jQuery](https://jquery.com/ "jQuery")

## Decsription

The server architecture is built using [Flask](flask.pocoo.org/ "Flask"). It works to serve both front and back end functionality. It receives requests (data) from a remote monitoring client through POST requests sent to the */api* endpoint. The requests are _JSON_ objects sent by the client every other second. As of now the data being sent is coordinates in the form *{"x": 3, "y": 4, "z": 4}*.
These values represent displacement figures being generated by the client.

Once the server receives the request, it parses the _JSON_ object into a Python list. A small web client (sort of) exists in the project in the form of a _HTML_ page with emdedded _Javascript_ scripts. The web client makes *AJAX* request to the */api/axes* endpoint every second upon which it receives a *JSON* object with all the axes. The web client parses the axes and parses the individual axes to the [Plotly](https://plot.ly/javascript/ "Plotly") graphing library for data visualisation.

*/api/history* endpoint should plot a graph displaying the values for the period the client has been online. This endpoint works by reading values from a *CSV* file containing axes data written to it over a period of time. This file is updated with each incoming request, data is written to the *histogram.csv* file upon every *POST* request made to the server by the remote client. On issuance of a *GET* request, the server reads the values from the *histogram.csv* file, populates a list and avails the list containing the axes to the web client. The web client sends *AJAX* calls to the */api/history/x* endpoint which returns data/values used to display a graph.

The project is hosted on [Heroku](https://www.heroku.com/ "Heroku"). The *requirements.txt* file contains all the Python dependencies necessary to run this project. *Procfile*, *runtime.txt* are [Heroku](https://www.heroku.com/ "Heroku") platform specific files required to run this project.